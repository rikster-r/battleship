(()=>{"use strict";class e{constructor(e,t,s,a=!1){this.length=e,this.hits=Array(e).fill(!1),this.vertical=a,this.x=t,this.y=s,this.endX=a?t:t+e-1,this.endY=a?s+e-1:s}hit(e){this.hits[e]=!0}isSunk(){return this.hits.every((e=>!0===e))}hasCell(e,t){return this.x-1<=e&&e<=this.endX+1&&this.y-1<=t&&t<=this.endY+1}}class t{constructor(){this.ships=new Map([[1,new e(1)],[2,new e(1)],[3,new e(2)],[4,new e(2)],[5,new e(3)],[6,new e(3)],[7,new e(4)],[8,new e(4)]]),this.missed=new Set}changeShipCoords(t,s,a,r=!1){const i=this.ships.get(t);this.#e(s,a,i.length,r,t)&&this.ships.set(t,new e(i.length,s,a,r))}#e(e,t,s,a,r){if(e+s-1>10)return!1;if(t>10)return!1;if(a&&t+s-1>10)return!1;if(e<1||t<1)return!1;if("number"!=typeof e||"number"!=typeof t)return!1;for(let r of this.ships.values())for(let i=0;i<s;i++)if(a){if(r.hasCell(e,t+i))return!1}else if(r.hasCell(e+i,t))return!1;return!0}receiveAttack(e,t){if(e<1||e>10)return;if(t<1||t>10)return;let s=!0;for(const a of this.ships.values())if(a.hasCell(e,t)){const r=a.vertical?t-a.y:e-a.x;a.hit(r),s=!1,a.isSunk()&&this.#t(a);break}s&&this.missed.add([e,t])}#t(e){if(e.vertical){for(let t=-1;t<=e.length;t++)this.missed.add([e.x-1,e.y+t]),this.missed.add([e.x+1,e.y+t]);this.missed.add([e.x,e.y-1]),this.missed.add([e.x,e.endY+1])}else{for(let t=-1;t<=e.length;t++)this.missed.add([e.x+t,e.y-1]),this.missed.add([e.x+t,e.y+1]);this.missed.add([e.x-1,e.y]),this.missed.add([e.endX+1,e.y])}}areShipsSunk(){return this.ships.every((e=>{e.isSunk()}))}}class s{constructor(e){this.name=e,this.enemy=void 0,this.board=new t}makeMove(e,t){this.enemy.board.receiveAttack(e,t)}}const a=new class extends s{constructor(){super("human")}},r=new class extends s{constructor(){super("computer"),this.attacks=new Set}makeMove(){const[e,t]=this.#s();super.makeMove(e,t)}#s(){let e,t;do{e=this.#a(1,10),t=this.#a(1,10)}while(this.attacks.has([e,t]));return this.attacks.add([e,t]),[e,t]}#a(e,t){Math.floor(Math.random()*(t-e+1)+e)}};a.enemy=r,r.enemy=a;const i=new class{constructor(){this.startGameButton=document.querySelector("[data-start-game]"),this.humanField=document.querySelector("[data-human-field]"),this.computerField=document.querySelector("[data-computer-field]"),this.dragndrops=document.querySelectorAll('[draggable="true"]'),this.currentPlayer=a,this.gameGoing=!1}startGame(){}update(e){const t="human"===e.name?this.humanField:this.computerField;e.board.ships.forEach(((s,a)=>{if(s.x)for(let r=0;r<s.length;r++){let i;i=s.vertical?t.querySelector(`[data-x="${s.x}"][data-y="${s.y+r}"]`):t.querySelector(`[data-x="${s.x+r}"][data-y="${s.y}"]`),i.dataset.id=a,s.isSunk()?(i.className="sunk",document.querySelector(`[data-${e.name}-ship][data-ship-id="${a}"]`).classList.remove("active")):s.hits[r]&&(i.className="hit")}})),e.board.missed.forEach((e=>{t.querySelector(`[data-x="${e[0]}"][data-y="${e[1]}"]`).className="missed"}))}populateField(e,t){for(let s=1;s<=10;s++)for(let a=1;a<=10;a++){let r=document.createElement("button");r.dataset.y=s,r.dataset.x=a,t&&r.addEventListener("click",(e=>t(e.target))),e.append(r)}}};i.populateField(i.humanField),i.populateField(i.computerField),i.startGameButton.addEventListener("click",(function(){i.startGame()})),i.dragndrops.forEach((e=>{e.addEventListener("dragstart",(function(e){!function(e){e.dataTransfer.setData("id",e.target.dataset.id),e.dataTransfer.setData("direction",e.target.dataset.vertical)}(e)})),e.addEventListener("click",(function(e){!function(e){const t=e.target.closest(".ship-wrapper");t.dataset.vertical=t.dataset.vertical?"":"true"}(e)}))})),i.humanField.addEventListener("dragover",(function(e){e.preventDefault()})),i.humanField.addEventListener("drop",(function(e){!function(e){const t=Number(e.dataTransfer.getData("id")),s=Number(e.target.dataset.x),r=Number(e.target.dataset.y),n=e.dataTransfer.getData("direction");a.board.changeShipCoords(t,s,r,n),a.board.ships.get(t).x&&document.querySelector(`[draggable="true"][data-id="${t}"`).remove(),i.update(a)}(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxTQUN2RCxDQThCSThFLENBQUtOLEVBQ1AsSUFFQUcsRUFBSUosaUJBQWlCLFNBQVMsU0FBU0MsSUFsQnpDLFNBQXlCQSxHQUN2QixNQUFNQyxFQUFTRCxFQUFFQyxPQUFPTSxRQUFRLGlCQUNoQ04sRUFBT1gsUUFBUTlELFNBQVl5RSxFQUFPWCxRQUFnQixTQUFJLEdBQUssTUFDN0QsQ0FnQklrQixDQUFnQlIsRUFDbEIsR0FBQyxJQUdIM0IsRUFBUUksV0FBV3NCLGlCQUFpQixZQUFZLFNBQVVDLEdBQ3hEQSxFQUFFUyxnQkFDSixJQUVBcEMsRUFBUUksV0FBV3NCLGlCQUFpQixRQUFRLFNBQVNDLElBeENyRCxTQUFjQSxHQUNaLE1BQU1aLEVBQVNzQixPQUFPVixFQUFFSSxhQUFhTyxRQUFRLE9BQ3ZDckYsRUFBSW9GLE9BQU9WLEVBQUVDLE9BQU9YLFFBQVFoRSxHQUM1QkMsRUFBSW1GLE9BQU9WLEVBQUVDLE9BQU9YLFFBQVEvRCxHQUM1QkMsRUFBV3dFLEVBQUVJLGFBQWFPLFFBQVEsYUFFeENoRCxFQUFNRixNQUFNZixpQkFBaUIwQyxFQUFROUQsRUFBR0MsRUFBR0MsR0FDdkNtQyxFQUFNRixNQUFNbkIsTUFBTU8sSUFBSXVDLEdBQVE5RCxHQUNoQ2lELFNBQVNDLGNBQWMsK0JBQStCWSxNQUFXSyxTQUVuRXBCLEVBQVFXLE9BQU9yQixFQUNqQixDQThCRWlELENBQUtaLEVBQ1AsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvYXBwL3NoaXAuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9hcHAvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvYXBwL3BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2FwcC9pbmRleC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2FwcC9kaXNwbGF5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBTaGlwIHtcclxuICBjb25zdHJ1Y3RvcihsZW5ndGgsIHgsIHksIHZlcnRpY2FsID0gZmFsc2UpIHtcclxuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xyXG4gICAgdGhpcy5oaXRzID0gQXJyYXkobGVuZ3RoKS5maWxsKGZhbHNlKTtcclxuICAgIHRoaXMudmVydGljYWwgPSB2ZXJ0aWNhbDtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy5lbmRYID0gKHZlcnRpY2FsKSA/IHggOiB4ICsgbGVuZ3RoIC0gMTtcclxuICAgIHRoaXMuZW5kWSA9ICh2ZXJ0aWNhbCkgPyB5ICsgbGVuZ3RoIC0gMSA6IHk7XHJcbiAgfVxyXG5cclxuICBoaXQoaW5kZXgpIHtcclxuICAgIHRoaXMuaGl0c1tpbmRleF0gPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaXNTdW5rKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaGl0cy5ldmVyeShjZWxsID0+IGNlbGwgPT09IHRydWUpO1xyXG4gIH1cclxuXHJcbiAgaGFzQ2VsbCh4LCB5KSB7XHJcbiAgICByZXR1cm4gKHRoaXMueCAtIDEgPD0geCkgJiYgKHggPD0gdGhpcy5lbmRYICsgMSkgJiYgKHRoaXMueSAtIDEgPD0geSkgJiYgKHkgPD0gdGhpcy5lbmRZICsgMSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgU2hpcCB9IGZyb20gJy4vc2hpcC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZWJvYXJkIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuc2hpcHMgPSBuZXcgTWFwKFtcclxuICAgICAgWzEsIG5ldyBTaGlwKDEpXSxcclxuICAgICAgWzIsIG5ldyBTaGlwKDEpXSxcclxuXHJcbiAgICAgIFszLCBuZXcgU2hpcCgyKV0sXHJcbiAgICAgIFs0LCBuZXcgU2hpcCgyKV0sXHJcblxyXG4gICAgICBbNSwgbmV3IFNoaXAoMyldLFxyXG4gICAgICBbNiwgbmV3IFNoaXAoMyldLFxyXG5cclxuICAgICAgWzcsIG5ldyBTaGlwKDQpXSxcclxuICAgICAgWzgsIG5ldyBTaGlwKDQpXSxcclxuICAgIF0pO1xyXG4gICAgdGhpcy5taXNzZWQgPSBuZXcgU2V0KCk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VTaGlwQ29vcmRzKGlkLCB4LCB5LCB2ZXJ0aWNhbCA9IGZhbHNlKSB7XHJcbiAgICBjb25zdCBzaGlwID0gdGhpcy5zaGlwcy5nZXQoaWQpO1xyXG5cclxuICAgIGNvbnN0IHZhbGlkID0gdGhpcy4jdmFsaWRhdGVDb29yZHMoeCwgeSwgc2hpcC5sZW5ndGgsIHZlcnRpY2FsLCBpZCk7XHJcbiAgICBpZiAodmFsaWQpIHtcclxuICAgICAgdGhpcy5zaGlwcy5zZXQoaWQsIG5ldyBTaGlwKHNoaXAubGVuZ3RoLCB4LCB5LCB2ZXJ0aWNhbCkpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gICN2YWxpZGF0ZUNvb3Jkcyh4LCB5LCBsZW5ndGgsIHZlcnRpY2FsLCBpZCkge1xyXG4gICAgaWYgKHggKyBsZW5ndGggLSAxID4gMTApIHJldHVybiBmYWxzZTtcclxuICAgIGlmICh5ID4gMTApIHJldHVybiBmYWxzZTtcclxuICAgIGlmICh2ZXJ0aWNhbCAmJiB5ICsgbGVuZ3RoIC0gMSA+IDEwKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAoeCA8IDEgfHwgeSA8IDEpIHJldHVybiBmYWxzZTtcclxuICAgIGlmICh0eXBlb2YgeCAhPSAnbnVtYmVyJyB8fCB0eXBlb2YgeSAhPSAnbnVtYmVyJykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIGZvciAobGV0IHNoaXAgb2YgdGhpcy5zaGlwcy52YWx1ZXMoKSkge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7IC8vbG9vcCBmb3IgZXZlcnkgY2VsbCBvZiBvdXIgc2hpcFxyXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgaWYgKHNoaXAuaGFzQ2VsbCh4LCB5ICsgaSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHNoaXAuaGFzQ2VsbCh4ICsgaSwgeSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIHJlY2VpdmVBdHRhY2soeCwgeSkge1xyXG4gICAgaWYgKHggPCAxIHx8IHggPiAxMCkgcmV0dXJuO1xyXG4gICAgaWYgKHkgPCAxIHx8IHkgPiAxMCkgcmV0dXJuO1xyXG4gICAgbGV0IG5vdEZvdW5kID0gdHJ1ZTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHNoaXAgb2YgdGhpcy5zaGlwcy52YWx1ZXMoKSkgeyAvL3VzZWQgZm9yIGJlY2F1c2UgaSBuZWVkZWQgYnJlYWtcclxuICAgICAgaWYgKHNoaXAuaGFzQ2VsbCh4LCB5KSkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gKHNoaXAudmVydGljYWwpID8geSAtIHNoaXAueSA6IHggLSBzaGlwLng7XHJcbiAgICAgICAgc2hpcC5oaXQoaW5kZXgpO1xyXG4gICAgICAgIG5vdEZvdW5kID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmIChzaGlwLmlzU3VuaygpKSB0aGlzLiNtaXNzU3Vycm91bmRpbmdDZWxscyhzaGlwKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChub3RGb3VuZCkge1xyXG4gICAgICB0aGlzLm1pc3NlZC5hZGQoW3gsIHldKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICNtaXNzU3Vycm91bmRpbmdDZWxscyhzaGlwKSB7XHJcbiAgICBpZiAoc2hpcC52ZXJ0aWNhbCkge1xyXG4gICAgICBmb3IgKGxldCBpID0gLTE7IGkgPD0gc2hpcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRoaXMubWlzc2VkLmFkZChbc2hpcC54IC0gMSwgc2hpcC55ICsgaV0pO1xyXG4gICAgICAgIHRoaXMubWlzc2VkLmFkZChbc2hpcC54ICsgMSwgc2hpcC55ICsgaV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm1pc3NlZC5hZGQoW3NoaXAueCwgc2hpcC55IC0gMV0pO1xyXG4gICAgICB0aGlzLm1pc3NlZC5hZGQoW3NoaXAueCwgc2hpcC5lbmRZICsgMV0pO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAtMTsgaSA8PSBzaGlwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5taXNzZWQuYWRkKFtzaGlwLnggKyBpLCBzaGlwLnkgLSAxXSk7XHJcbiAgICAgICAgdGhpcy5taXNzZWQuYWRkKFtzaGlwLnggKyBpLCBzaGlwLnkgKyAxXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMubWlzc2VkLmFkZChbc2hpcC54IC0gMSwgc2hpcC55XSk7XHJcbiAgICAgIHRoaXMubWlzc2VkLmFkZChbc2hpcC5lbmRYICsgMSwgc2hpcC55XSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhcmVTaGlwc1N1bmsoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zaGlwcy5ldmVyeShzaGlwID0+IHtcclxuICAgICAgc2hpcC5pc1N1bmsoKTtcclxuICAgIH0pXHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgR2FtZWJvYXJkIH0gZnJvbSAnLi9nYW1lYm9hcmQnO1xyXG5cclxuY2xhc3MgUGxheWVyIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5lbmVteSA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMuYm9hcmQgPSBuZXcgR2FtZWJvYXJkKCk7XHJcbiAgfVxyXG5cclxuICBtYWtlTW92ZSh4LCB5KSB7XHJcbiAgICB0aGlzLmVuZW15LmJvYXJkLnJlY2VpdmVBdHRhY2soeCwgeSk7XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBDb21wdXRlclBsYXllciBleHRlbmRzIFBsYXllciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcignY29tcHV0ZXInKTtcclxuICAgIHRoaXMuYXR0YWNrcyA9IG5ldyBTZXQoKTtcclxuICB9XHJcblxyXG4gIG1ha2VNb3ZlKCkge1xyXG4gICAgY29uc3QgW3gsIHldID0gdGhpcy4jZ2VuZXJhdGVDb29yZHMoKTtcclxuICAgIHN1cGVyLm1ha2VNb3ZlKHgsIHkpO1xyXG4gIH1cclxuXHJcbiAgI2dlbmVyYXRlQ29vcmRzKCkge1xyXG4gICAgbGV0IHgsIHk7XHJcblxyXG4gICAgZG8ge1xyXG4gICAgICB4ID0gdGhpcy4jcmFuZG9tTnVtSW5SYW5nZSgxLCAxMCk7XHJcbiAgICAgIHkgPSB0aGlzLiNyYW5kb21OdW1JblJhbmdlKDEsIDEwKTtcclxuICAgIH0gd2hpbGUgKHRoaXMuYXR0YWNrcy5oYXMoW3gsIHldKSk7XHJcblxyXG4gICAgdGhpcy5hdHRhY2tzLmFkZChbeCwgeV0pO1xyXG4gICAgcmV0dXJuIFt4LCB5XTtcclxuICB9XHJcblxyXG4gICNyYW5kb21OdW1JblJhbmdlKG1pbiwgbWF4KSB7IC8vbWluLCBtYXggaW5jbHVkZWRcclxuICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBIdW1hblBsYXllciBleHRlbmRzIFBsYXllciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcignaHVtYW4nKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGh1bWFuID0gbmV3IEh1bWFuUGxheWVyKCk7XHJcbmNvbnN0IGNvbXB1dGVyID0gbmV3IENvbXB1dGVyUGxheWVyKCk7XHJcbmh1bWFuLmVuZW15ID0gY29tcHV0ZXI7XHJcbmNvbXB1dGVyLmVuZW15ID0gaHVtYW47XHJcblxyXG5leHBvcnQgeyBodW1hbiwgY29tcHV0ZXIgfTsiLCJpbXBvcnQgJy4uL3N0eWxlLnNjc3MnO1xyXG5pbXBvcnQgeyBEaXNwbGF5IH0gZnJvbSAnLi9kaXNwbGF5JztcclxuaW1wb3J0IHsgaHVtYW4gfSBmcm9tICcuL3BsYXllcic7XHJcblxyXG5mdW5jdGlvbiBkcmFnKGUpIHtcclxuICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdpZCcsIGUudGFyZ2V0LmRhdGFzZXQuaWQpO1xyXG4gIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ2RpcmVjdGlvbicsIGUudGFyZ2V0LmRhdGFzZXQudmVydGljYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcm9wKGUpIHtcclxuICBjb25zdCBzaGlwSWQgPSBOdW1iZXIoZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgnaWQnKSk7XHJcbiAgY29uc3QgeCA9IE51bWJlcihlLnRhcmdldC5kYXRhc2V0LngpO1xyXG4gIGNvbnN0IHkgPSBOdW1iZXIoZS50YXJnZXQuZGF0YXNldC55KTtcclxuICBjb25zdCB2ZXJ0aWNhbCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ2RpcmVjdGlvbicpO1xyXG5cclxuICBodW1hbi5ib2FyZC5jaGFuZ2VTaGlwQ29vcmRzKHNoaXBJZCwgeCwgeSwgdmVydGljYWwpO1xyXG4gIGlmIChodW1hbi5ib2FyZC5zaGlwcy5nZXQoc2hpcElkKS54KSB7IC8vaWYgY29vcmRzIGNoYW5nZWRcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkcmFnZ2FibGU9XCJ0cnVlXCJdW2RhdGEtaWQ9XCIke3NoaXBJZH1cImApLnJlbW92ZSgpO1xyXG4gIH07XHJcbiAgZGlzcGxheS51cGRhdGUoaHVtYW4pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VEaXJlY3Rpb24oZSkge1xyXG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5zaGlwLXdyYXBwZXInKTtcclxuICB0YXJnZXQuZGF0YXNldC52ZXJ0aWNhbCA9ICh0YXJnZXQuZGF0YXNldC52ZXJ0aWNhbCkgPyAnJyA6ICd0cnVlJztcclxufVxyXG5cclxuY29uc3QgZGlzcGxheSA9IG5ldyBEaXNwbGF5KCk7XHJcbmRpc3BsYXkucG9wdWxhdGVGaWVsZChkaXNwbGF5Lmh1bWFuRmllbGQpO1xyXG5kaXNwbGF5LnBvcHVsYXRlRmllbGQoZGlzcGxheS5jb21wdXRlckZpZWxkKTtcclxuXHJcbmRpc3BsYXkuc3RhcnRHYW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gIGRpc3BsYXkuc3RhcnRHYW1lKCk7XHJcbn0pO1xyXG5cclxuZGlzcGxheS5kcmFnbmRyb3BzLmZvckVhY2goZG5kID0+IHtcclxuICBkbmQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGRyYWcoZSk7XHJcbiAgfSk7XHJcblxyXG4gIGRuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGNoYW5nZURpcmVjdGlvbihlKTtcclxuICB9KVxyXG59KTtcclxuXHJcbmRpc3BsYXkuaHVtYW5GaWVsZC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59KTtcclxuXHJcbmRpc3BsYXkuaHVtYW5GaWVsZC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZnVuY3Rpb24oZSkge1xyXG4gIGRyb3AoZSlcclxufSkiLCJpbXBvcnQgeyBodW1hbiwgY29tcHV0ZXIgfSBmcm9tICcuL3BsYXllcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRGlzcGxheSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXN0YXJ0LWdhbWVdJyk7XHJcbiAgICB0aGlzLmh1bWFuRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1odW1hbi1maWVsZF0nKTtcclxuICAgIHRoaXMuY29tcHV0ZXJGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbXB1dGVyLWZpZWxkXScpO1xyXG4gICAgdGhpcy5kcmFnbmRyb3BzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RyYWdnYWJsZT1cInRydWVcIl0nKTtcclxuXHJcbiAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSBodW1hbjtcclxuICAgIHRoaXMuZ2FtZUdvaW5nID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBzdGFydEdhbWUoKSB7XHJcbiAgICAvLyB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgIC8vIHRoaXMuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbXB1dGVyLXNpZGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgIC8vIHRoaXMucG9wdWxhdGVGaWVsZCh0aGlzLmh1bWFuRmllbGQpO1xyXG4gICAgLy8gdGhpcy5wb3B1bGF0ZUZpZWxkKHRoaXMuY29tcHV0ZXJGaWVsZCk7XHJcbiAgICAvLyB0aGlzLmdhbWVHb2luZyA9IHRydWU7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUocGxheWVyKSB7XHJcbiAgICBjb25zdCBmaWVsZCA9IChwbGF5ZXIubmFtZSA9PT0gJ2h1bWFuJykgPyB0aGlzLmh1bWFuRmllbGQgOiB0aGlzLmNvbXB1dGVyRmllbGQ7XHJcblxyXG4gICAgcGxheWVyLmJvYXJkLnNoaXBzLmZvckVhY2goKHNoaXAsIHNoaXBJZCkgPT4ge1xyXG4gICAgICBpZiAoIXNoaXAueCkgcmV0dXJuO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHNoaXBDZWxsO1xyXG5cclxuICAgICAgICBpZiAoc2hpcC52ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgc2hpcENlbGwgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKGBbZGF0YS14PVwiJHtzaGlwLnh9XCJdW2RhdGEteT1cIiR7c2hpcC55ICsgaX1cIl1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hpcENlbGwgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKGBbZGF0YS14PVwiJHtzaGlwLnggKyBpfVwiXVtkYXRhLXk9XCIke3NoaXAueX1cIl1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNoaXBDZWxsLmRhdGFzZXQuaWQgPSBzaGlwSWQ7XHJcblxyXG4gICAgICAgIGlmIChzaGlwLmlzU3VuaygpKSB7XHJcbiAgICAgICAgICBzaGlwQ2VsbC5jbGFzc05hbWUgPSAnc3Vuayc7XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS0ke3BsYXllci5uYW1lfS1zaGlwXVtkYXRhLXNoaXAtaWQ9XCIke3NoaXBJZH1cIl1gKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0gZWxzZSBpZiAoc2hpcC5oaXRzW2ldKSB7XHJcbiAgICAgICAgICBzaGlwQ2VsbC5jbGFzc05hbWUgPSAnaGl0JztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHBsYXllci5ib2FyZC5taXNzZWQuZm9yRWFjaCgoY29vcmRzKSA9PiB7XHJcbiAgICAgIGZpZWxkLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXg9XCIke2Nvb3Jkc1swXX1cIl1bZGF0YS15PVwiJHtjb29yZHNbMV19XCJdYCkuY2xhc3NOYW1lID0gJ21pc3NlZCc7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHBvcHVsYXRlRmllbGQoZmllbGQsIGZ1bmMpIHtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDEwOyBpKyspIHtcclxuICAgICAgZm9yIChsZXQgaiA9IDE7IGogPD0gMTA7IGorKykge1xyXG4gICAgICAgIGxldCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgY2VsbC5kYXRhc2V0LnkgPSBpO1xyXG4gICAgICAgIGNlbGwuZGF0YXNldC54ID0gajtcclxuICAgICAgICBpZiAoZnVuYykge1xyXG4gICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiBmdW5jKGUudGFyZ2V0KSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZpZWxkLmFwcGVuZChjZWxsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJTaGlwIiwiY29uc3RydWN0b3IiLCJsZW5ndGgiLCJ4IiwieSIsInZlcnRpY2FsIiwidGhpcyIsImhpdHMiLCJBcnJheSIsImZpbGwiLCJlbmRYIiwiZW5kWSIsImhpdCIsImluZGV4IiwiaXNTdW5rIiwiZXZlcnkiLCJjZWxsIiwiaGFzQ2VsbCIsIkdhbWVib2FyZCIsInNoaXBzIiwiTWFwIiwibWlzc2VkIiwiU2V0IiwiY2hhbmdlU2hpcENvb3JkcyIsImlkIiwic2hpcCIsImdldCIsInNldCIsInZhbHVlcyIsImkiLCJyZWNlaXZlQXR0YWNrIiwibm90Rm91bmQiLCJhZGQiLCJhcmVTaGlwc1N1bmsiLCJQbGF5ZXIiLCJuYW1lIiwiZW5lbXkiLCJ1bmRlZmluZWQiLCJib2FyZCIsIm1ha2VNb3ZlIiwiaHVtYW4iLCJzdXBlciIsImNvbXB1dGVyIiwiYXR0YWNrcyIsImhhcyIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImRpc3BsYXkiLCJzdGFydEdhbWVCdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJodW1hbkZpZWxkIiwiY29tcHV0ZXJGaWVsZCIsImRyYWduZHJvcHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3VycmVudFBsYXllciIsImdhbWVHb2luZyIsInN0YXJ0R2FtZSIsInVwZGF0ZSIsInBsYXllciIsImZpZWxkIiwiZm9yRWFjaCIsInNoaXBJZCIsInNoaXBDZWxsIiwiZGF0YXNldCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImNvb3JkcyIsInBvcHVsYXRlRmllbGQiLCJmdW5jIiwiaiIsImNyZWF0ZUVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsImFwcGVuZCIsImRuZCIsImRhdGFUcmFuc2ZlciIsInNldERhdGEiLCJkcmFnIiwiY2xvc2VzdCIsImNoYW5nZURpcmVjdGlvbiIsInByZXZlbnREZWZhdWx0IiwiTnVtYmVyIiwiZ2V0RGF0YSIsImRyb3AiXSwic291cmNlUm9vdCI6IiJ9