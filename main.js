(()=>{"use strict";class e{constructor(e,t,s,a=!1){this.length=e,this.hits=Array(e).fill(!1),this.vertical=a,this.x=t,this.y=s,this.endX=a?t:t+e-1,this.endY=a?s+e-1:s}hit(e){this.hits[e]=!0}isSunk(){return this.hits.every((e=>!0===e))}hasCell(e,t){return this.x-1<=e&&e<=this.endX+1&&this.y-1<=t&&t<=this.endY+1}}class t{constructor(){this.ships=new Map([[1,new e(1)],[2,new e(1)],[3,new e(2)],[4,new e(2)],[5,new e(3)],[6,new e(3)],[7,new e(4)],[8,new e(4)]]),this.missed=new Set}changeShipCoords(t,s,a,r=!1){const i=this.ships.get(t);this.#e(s,a,i.length,r,t)&&this.ships.set(t,new e(i.length,s,a,r))}#e(e,t,s,a,r){if(e+s-1>10)return!1;if(t>10)return!1;if(a&&t+s-1>10)return!1;if(e<1||t<1)return!1;if("number"!=typeof e||"number"!=typeof t)return!1;for(let[i,n]of this.ships.entries())if(i!==r&&void 0!==n.length)for(let r=0;r<=s;r++)if(a){if(n.hasCell(e,t+r))return!1}else if(n.hasCell(e+r,t))return!1;return!0}receiveAttack(e,t){if(e<1||e>10)return;if(t<1||t>10)return;let s=!0;for(const a of this.ships.values())if(a.hasCell(e,t)){const r=a.vertical?t-a.y:e-a.x;a.hit(r),s=!1,a.isSunk()&&this.#t(a);break}s&&this.missed.add([e,t])}#t(e){if(e.vertical){for(let t=-1;t<=e.length;t++)this.missed.add([e.x-1,e.y+t]),this.missed.add([e.x+1,e.y+t]);this.missed.add([e.x,e.y-1]),this.missed.add([e.x,e.endY+1])}else{for(let t=-1;t<=e.length;t++)this.missed.add([e.x+t,e.y-1]),this.missed.add([e.x+t,e.y+1]);this.missed.add([e.x-1,e.y]),this.missed.add([e.endX+1,e.y])}}areShipsSunk(){return this.ships.every((e=>{e.isSunk()}))}}class s{constructor(e){this.name=e,this.enemy=void 0,this.board=new t}makeMove(e,t){this.enemy.board.receiveAttack(e,t)}}const a=new class extends s{constructor(){super("human")}},r=new class extends s{constructor(){super("computer"),this.attacks=new Set}makeMove(){const[e,t]=this.#s();super.makeMove(e,t)}#s(){let e,t;do{e=this.#a(1,10),t=this.#a(1,10)}while(this.attacks.has([e,t]));return this.attacks.add([e,t]),[e,t]}#a(e,t){Math.floor(Math.random()*(t-e+1)+e)}};a.enemy=r,r.enemy=a;const i=new class{constructor(){this.startGameButton=document.querySelector("[data-start-game]"),this.humanField=document.querySelector("[data-human-field]"),this.computerField=document.querySelector("[data-computer-field]"),this.dragndrops=document.querySelectorAll('[draggable="true"]'),this.currentPlayer=a,this.gameGoing=!1}startGame(){}update(e){const t="human"===e.name?this.humanField:this.computerField;e.board.ships.forEach(((s,a)=>{if(s.x)for(let r=0;r<s.length;r++){let i;i=s.vertical?t.querySelector(`[data-x="${s.x}"][data-y="${s.y+r}"]`):t.querySelector(`[data-x="${s.x+r}"][data-y="${s.y}"]`),i.dataset.id=a,s.isSunk()?(i.className="sunk",document.querySelector(`[data-${e.name}-ship][data-ship-id="${a}"]`).classList.remove("active")):s.hits[r]&&(i.className="hit")}})),e.board.missed.forEach((e=>{t.querySelector(`[data-x="${e[0]}"][data-y="${e[1]}"]`).className="missed"}))}populateField(e,t){for(let s=1;s<=10;s++)for(let a=1;a<=10;a++){let r=document.createElement("button");r.dataset.y=s,r.dataset.x=a,t&&r.addEventListener("click",(e=>t(e.target))),e.append(r)}}};i.populateField(i.humanField),i.populateField(i.computerField),i.startGameButton.addEventListener("click",(function(){i.startGame()})),i.dragndrops.forEach((e=>{e.addEventListener("dragstart",(function(e){!function(e){e.dataTransfer.setData("id",e.target.dataset.id),e.dataTransfer.setData("direction",e.target.dataset.vertical)}(e)})),e.addEventListener("click",(function(e){!function(e){const t=e.target.closest(".ship-wrapper");t.dataset.vertical="true"===t.dataset.vertical?"":"true"}(e)}))})),i.humanField.addEventListener("dragover",(function(e){e.preventDefault()})),i.humanField.addEventListener("drop",(function(e){!function(e){const t=Number(e.dataTransfer.getData("id")),s=Number(e.target.dataset.x),r=Number(e.target.dataset.y),n=e.dataTransfer.getData("direction");a.board.changeShipCoords(t,s,r,n),a.board.ships.get(t).x&&document.querySelector(`[draggable="true"][data-id="${t}"`).remove(),i.update(a)}(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUksYUFBYUMsUUFBUSxZQUFhTCxFQUFFQyxPQUFPWCxRQUFRL0QsU0FDdkQsQ0E4QkkrRSxDQUFLTixFQUNQLElBRUFHLEVBQUlKLGlCQUFpQixTQUFTLFNBQVNDLElBbEJ6QyxTQUF5QkEsR0FDdkIsTUFBTUMsRUFBU0QsRUFBRUMsT0FBT00sUUFBUSxpQkFDaENOLEVBQU9YLFFBQVEvRCxTQUF3QyxTQUE1QjBFLEVBQU9YLFFBQVEvRCxTQUF1QixHQUFLLE1BQ3hFLENBZ0JJaUYsQ0FBZ0JSLEVBQ2xCLEdBQUMsSUFHSDFCLEVBQVFJLFdBQVdxQixpQkFBaUIsWUFBWSxTQUFVQyxHQUN4REEsRUFBRVMsZ0JBQ0osSUFFQW5DLEVBQVFJLFdBQVdxQixpQkFBaUIsUUFBUSxTQUFTQyxJQXhDckQsU0FBY0EsR0FDWixNQUFNbEQsRUFBUzRELE9BQU9WLEVBQUVJLGFBQWFPLFFBQVEsT0FDdkN0RixFQUFJcUYsT0FBT1YsRUFBRUMsT0FBT1gsUUFBUWpFLEdBQzVCQyxFQUFJb0YsT0FBT1YsRUFBRUMsT0FBT1gsUUFBUWhFLEdBQzVCQyxFQUFXeUUsRUFBRUksYUFBYU8sUUFBUSxhQUV4Qy9DLEVBQU1GLE1BQU1qQixpQkFBaUJLLEVBQVF6QixFQUFHQyxFQUFHQyxHQUN2Q3FDLEVBQU1GLE1BQU1yQixNQUFNTyxJQUFJRSxHQUFRekIsR0FDaENtRCxTQUFTQyxjQUFjLCtCQUErQjNCLE1BQVcyQyxTQUVuRW5CLEVBQVFXLE9BQU9yQixFQUNqQixDQThCRWdELENBQUtaLEVBQ1AsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvYXBwL3NoaXAuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9hcHAvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvYXBwL3BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2FwcC9pbmRleC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2FwcC9kaXNwbGF5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBTaGlwIHtcclxuICBjb25zdHJ1Y3RvcihsZW5ndGgsIHgsIHksIHZlcnRpY2FsID0gZmFsc2UpIHtcclxuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xyXG4gICAgdGhpcy5oaXRzID0gQXJyYXkobGVuZ3RoKS5maWxsKGZhbHNlKTtcclxuICAgIHRoaXMudmVydGljYWwgPSB2ZXJ0aWNhbDtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy5lbmRYID0gKHZlcnRpY2FsKSA/IHggOiB4ICsgbGVuZ3RoIC0gMTtcclxuICAgIHRoaXMuZW5kWSA9ICh2ZXJ0aWNhbCkgPyB5ICsgbGVuZ3RoIC0gMSA6IHk7XHJcbiAgfVxyXG5cclxuICBoaXQoaW5kZXgpIHtcclxuICAgIHRoaXMuaGl0c1tpbmRleF0gPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaXNTdW5rKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaGl0cy5ldmVyeShjZWxsID0+IGNlbGwgPT09IHRydWUpO1xyXG4gIH1cclxuXHJcbiAgaGFzQ2VsbCh4LCB5KSB7XHJcbiAgICByZXR1cm4gKCh0aGlzLnggLSAxIDw9IHgpICYmICh4IDw9IHRoaXMuZW5kWCArIDEpICYmICh0aGlzLnkgLSAxIDw9IHkpICYmICh5IDw9IHRoaXMuZW5kWSArIDEpKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBTaGlwIH0gZnJvbSAnLi9zaGlwLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lYm9hcmQge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5zaGlwcyA9IG5ldyBNYXAoW1xyXG4gICAgICBbMSwgbmV3IFNoaXAoMSldLFxyXG4gICAgICBbMiwgbmV3IFNoaXAoMSldLFxyXG5cclxuICAgICAgWzMsIG5ldyBTaGlwKDIpXSxcclxuICAgICAgWzQsIG5ldyBTaGlwKDIpXSxcclxuXHJcbiAgICAgIFs1LCBuZXcgU2hpcCgzKV0sXHJcbiAgICAgIFs2LCBuZXcgU2hpcCgzKV0sXHJcblxyXG4gICAgICBbNywgbmV3IFNoaXAoNCldLFxyXG4gICAgICBbOCwgbmV3IFNoaXAoNCldLFxyXG4gICAgXSk7XHJcbiAgICB0aGlzLm1pc3NlZCA9IG5ldyBTZXQoKTtcclxuICB9XHJcblxyXG4gIGNoYW5nZVNoaXBDb29yZHMoaWQsIHgsIHksIHZlcnRpY2FsID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IHNoaXAgPSB0aGlzLnNoaXBzLmdldChpZCk7XHJcblxyXG4gICAgY29uc3QgdmFsaWQgPSB0aGlzLiN2YWxpZGF0ZUNvb3Jkcyh4LCB5LCBzaGlwLmxlbmd0aCwgdmVydGljYWwsIGlkKTtcclxuICAgIGlmICh2YWxpZCkge1xyXG4gICAgICB0aGlzLnNoaXBzLnNldChpZCwgbmV3IFNoaXAoc2hpcC5sZW5ndGgsIHgsIHksIHZlcnRpY2FsKSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgI3ZhbGlkYXRlQ29vcmRzKHgsIHksIGxlbmd0aCwgdmVydGljYWwsIGlkKSB7XHJcbiAgICBpZiAoeCArIGxlbmd0aCAtIDEgPiAxMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHkgPiAxMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHZlcnRpY2FsICYmIHkgKyBsZW5ndGggLSAxID4gMTApIHJldHVybiBmYWxzZTtcclxuICAgIGlmICh4IDwgMSB8fCB5IDwgMSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKHR5cGVvZiB4ICE9ICdudW1iZXInIHx8IHR5cGVvZiB5ICE9ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgZm9yIChsZXQgW3NoaXBJZCwgc2hpcF0gb2YgdGhpcy5zaGlwcy5lbnRyaWVzKCkpIHtcclxuICAgICAgaWYgKHNoaXBJZCA9PT0gaWQpIGNvbnRpbnVlOyAvL3NraXAgaWYgY2hlY2tpbmcgZm9yIG91ciBzaGlwIGl0c2VsZlxyXG4gICAgICBpZiAoc2hpcC5sZW5ndGggPT09IHVuZGVmaW5lZCkgY29udGludWU7XHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBsZW5ndGg7IGkrKykgeyAvL2xvb3AgZm9yIGV2ZXJ5IGNlbGwgb2Ygb3VyIHNoaXBcclxuICAgICAgICBpZiAodmVydGljYWwpIHtcclxuICAgICAgICAgIGlmIChzaGlwLmhhc0NlbGwoeCwgeSArIGkpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChzaGlwLmhhc0NlbGwoeCArIGksIHkpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICByZWNlaXZlQXR0YWNrKHgsIHkpIHtcclxuICAgIGlmICh4IDwgMSB8fCB4ID4gMTApIHJldHVybjtcclxuICAgIGlmICh5IDwgMSB8fCB5ID4gMTApIHJldHVybjtcclxuICAgIGxldCBub3RGb3VuZCA9IHRydWU7XHJcblxyXG4gICAgZm9yIChjb25zdCBzaGlwIG9mIHRoaXMuc2hpcHMudmFsdWVzKCkpIHsgLy91c2VkIGZvciBiZWNhdXNlIGkgbmVlZGVkIGJyZWFrXHJcbiAgICAgIGlmIChzaGlwLmhhc0NlbGwoeCwgeSkpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IChzaGlwLnZlcnRpY2FsKSA/IHkgLSBzaGlwLnkgOiB4IC0gc2hpcC54O1xyXG4gICAgICAgIHNoaXAuaGl0KGluZGV4KTtcclxuICAgICAgICBub3RGb3VuZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoc2hpcC5pc1N1bmsoKSkgdGhpcy4jbWlzc1N1cnJvdW5kaW5nQ2VsbHMoc2hpcCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAobm90Rm91bmQpIHtcclxuICAgICAgdGhpcy5taXNzZWQuYWRkKFt4LCB5XSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAjbWlzc1N1cnJvdW5kaW5nQ2VsbHMoc2hpcCkge1xyXG4gICAgaWYgKHNoaXAudmVydGljYWwpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IC0xOyBpIDw9IHNoaXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0aGlzLm1pc3NlZC5hZGQoW3NoaXAueCAtIDEsIHNoaXAueSArIGldKTtcclxuICAgICAgICB0aGlzLm1pc3NlZC5hZGQoW3NoaXAueCArIDEsIHNoaXAueSArIGldKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5taXNzZWQuYWRkKFtzaGlwLngsIHNoaXAueSAtIDFdKTtcclxuICAgICAgdGhpcy5taXNzZWQuYWRkKFtzaGlwLngsIHNoaXAuZW5kWSArIDFdKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3IgKGxldCBpID0gLTE7IGkgPD0gc2hpcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRoaXMubWlzc2VkLmFkZChbc2hpcC54ICsgaSwgc2hpcC55IC0gMV0pO1xyXG4gICAgICAgIHRoaXMubWlzc2VkLmFkZChbc2hpcC54ICsgaSwgc2hpcC55ICsgMV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm1pc3NlZC5hZGQoW3NoaXAueCAtIDEsIHNoaXAueV0pO1xyXG4gICAgICB0aGlzLm1pc3NlZC5hZGQoW3NoaXAuZW5kWCArIDEsIHNoaXAueV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXJlU2hpcHNTdW5rKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc2hpcHMuZXZlcnkoc2hpcCA9PiB7XHJcbiAgICAgIHNoaXAuaXNTdW5rKCk7XHJcbiAgICB9KVxyXG4gIH1cclxufSIsImltcG9ydCB7IEdhbWVib2FyZCB9IGZyb20gJy4vZ2FtZWJvYXJkJztcclxuXHJcbmNsYXNzIFBsYXllciB7XHJcbiAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuZW5lbXkgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLmJvYXJkID0gbmV3IEdhbWVib2FyZCgpO1xyXG4gIH1cclxuXHJcbiAgbWFrZU1vdmUoeCwgeSkge1xyXG4gICAgdGhpcy5lbmVteS5ib2FyZC5yZWNlaXZlQXR0YWNrKHgsIHkpO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgQ29tcHV0ZXJQbGF5ZXIgZXh0ZW5kcyBQbGF5ZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoJ2NvbXB1dGVyJyk7XHJcbiAgICB0aGlzLmF0dGFja3MgPSBuZXcgU2V0KCk7XHJcbiAgfVxyXG5cclxuICBtYWtlTW92ZSgpIHtcclxuICAgIGNvbnN0IFt4LCB5XSA9IHRoaXMuI2dlbmVyYXRlQ29vcmRzKCk7XHJcbiAgICBzdXBlci5tYWtlTW92ZSh4LCB5KTtcclxuICB9XHJcblxyXG4gICNnZW5lcmF0ZUNvb3JkcygpIHtcclxuICAgIGxldCB4LCB5O1xyXG5cclxuICAgIGRvIHtcclxuICAgICAgeCA9IHRoaXMuI3JhbmRvbU51bUluUmFuZ2UoMSwgMTApO1xyXG4gICAgICB5ID0gdGhpcy4jcmFuZG9tTnVtSW5SYW5nZSgxLCAxMCk7XHJcbiAgICB9IHdoaWxlICh0aGlzLmF0dGFja3MuaGFzKFt4LCB5XSkpO1xyXG5cclxuICAgIHRoaXMuYXR0YWNrcy5hZGQoW3gsIHldKTtcclxuICAgIHJldHVybiBbeCwgeV07XHJcbiAgfVxyXG5cclxuICAjcmFuZG9tTnVtSW5SYW5nZShtaW4sIG1heCkgeyAvL21pbiwgbWF4IGluY2x1ZGVkXHJcbiAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgSHVtYW5QbGF5ZXIgZXh0ZW5kcyBQbGF5ZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoJ2h1bWFuJyk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBodW1hbiA9IG5ldyBIdW1hblBsYXllcigpO1xyXG5jb25zdCBjb21wdXRlciA9IG5ldyBDb21wdXRlclBsYXllcigpO1xyXG5odW1hbi5lbmVteSA9IGNvbXB1dGVyO1xyXG5jb21wdXRlci5lbmVteSA9IGh1bWFuO1xyXG5cclxuZXhwb3J0IHsgaHVtYW4sIGNvbXB1dGVyIH07IiwiaW1wb3J0ICcuLi9zdHlsZS5zY3NzJztcclxuaW1wb3J0IHsgRGlzcGxheSB9IGZyb20gJy4vZGlzcGxheSc7XHJcbmltcG9ydCB7IGh1bWFuIH0gZnJvbSAnLi9wbGF5ZXInO1xyXG5cclxuZnVuY3Rpb24gZHJhZyhlKSB7XHJcbiAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnaWQnLCBlLnRhcmdldC5kYXRhc2V0LmlkKTtcclxuICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdkaXJlY3Rpb24nLCBlLnRhcmdldC5kYXRhc2V0LnZlcnRpY2FsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJvcChlKSB7XHJcbiAgY29uc3Qgc2hpcElkID0gTnVtYmVyKGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ2lkJykpO1xyXG4gIGNvbnN0IHggPSBOdW1iZXIoZS50YXJnZXQuZGF0YXNldC54KTtcclxuICBjb25zdCB5ID0gTnVtYmVyKGUudGFyZ2V0LmRhdGFzZXQueSk7XHJcbiAgY29uc3QgdmVydGljYWwgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdkaXJlY3Rpb24nKTtcclxuXHJcbiAgaHVtYW4uYm9hcmQuY2hhbmdlU2hpcENvb3JkcyhzaGlwSWQsIHgsIHksIHZlcnRpY2FsKTtcclxuICBpZiAoaHVtYW4uYm9hcmQuc2hpcHMuZ2V0KHNoaXBJZCkueCkgeyAvL2lmIGNvb3JkcyBjaGFuZ2VkXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZHJhZ2dhYmxlPVwidHJ1ZVwiXVtkYXRhLWlkPVwiJHtzaGlwSWR9XCJgKS5yZW1vdmUoKTtcclxuICB9O1xyXG4gIGRpc3BsYXkudXBkYXRlKGh1bWFuKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlRGlyZWN0aW9uKGUpIHtcclxuICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldC5jbG9zZXN0KCcuc2hpcC13cmFwcGVyJyk7XHJcbiAgdGFyZ2V0LmRhdGFzZXQudmVydGljYWwgPSAodGFyZ2V0LmRhdGFzZXQudmVydGljYWwgPT09ICd0cnVlJykgPyAnJyA6ICd0cnVlJztcclxufVxyXG5cclxuY29uc3QgZGlzcGxheSA9IG5ldyBEaXNwbGF5KCk7XHJcbmRpc3BsYXkucG9wdWxhdGVGaWVsZChkaXNwbGF5Lmh1bWFuRmllbGQpO1xyXG5kaXNwbGF5LnBvcHVsYXRlRmllbGQoZGlzcGxheS5jb21wdXRlckZpZWxkKTtcclxuXHJcbmRpc3BsYXkuc3RhcnRHYW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gIGRpc3BsYXkuc3RhcnRHYW1lKCk7XHJcbn0pO1xyXG5cclxuZGlzcGxheS5kcmFnbmRyb3BzLmZvckVhY2goZG5kID0+IHtcclxuICBkbmQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGRyYWcoZSk7XHJcbiAgfSk7XHJcblxyXG4gIGRuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGNoYW5nZURpcmVjdGlvbihlKTtcclxuICB9KVxyXG59KTtcclxuXHJcbmRpc3BsYXkuaHVtYW5GaWVsZC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59KTtcclxuXHJcbmRpc3BsYXkuaHVtYW5GaWVsZC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZnVuY3Rpb24oZSkge1xyXG4gIGRyb3AoZSlcclxufSkiLCJpbXBvcnQgeyBodW1hbiwgY29tcHV0ZXIgfSBmcm9tICcuL3BsYXllcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRGlzcGxheSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnN0YXJ0R2FtZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXN0YXJ0LWdhbWVdJyk7XHJcbiAgICB0aGlzLmh1bWFuRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1odW1hbi1maWVsZF0nKTtcclxuICAgIHRoaXMuY29tcHV0ZXJGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvbXB1dGVyLWZpZWxkXScpO1xyXG4gICAgdGhpcy5kcmFnbmRyb3BzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RyYWdnYWJsZT1cInRydWVcIl0nKTtcclxuXHJcbiAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSBodW1hbjtcclxuICAgIHRoaXMuZ2FtZUdvaW5nID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBzdGFydEdhbWUoKSB7XHJcbiAgICAvLyB0aGlzLnN0YXJ0R2FtZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgIC8vIHRoaXMuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbXB1dGVyLXNpZGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgIC8vIHRoaXMucG9wdWxhdGVGaWVsZCh0aGlzLmh1bWFuRmllbGQpO1xyXG4gICAgLy8gdGhpcy5wb3B1bGF0ZUZpZWxkKHRoaXMuY29tcHV0ZXJGaWVsZCk7XHJcbiAgICAvLyB0aGlzLmdhbWVHb2luZyA9IHRydWU7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUocGxheWVyKSB7XHJcbiAgICBjb25zdCBmaWVsZCA9IChwbGF5ZXIubmFtZSA9PT0gJ2h1bWFuJykgPyB0aGlzLmh1bWFuRmllbGQgOiB0aGlzLmNvbXB1dGVyRmllbGQ7XHJcblxyXG4gICAgcGxheWVyLmJvYXJkLnNoaXBzLmZvckVhY2goKHNoaXAsIHNoaXBJZCkgPT4ge1xyXG4gICAgICBpZiAoIXNoaXAueCkgcmV0dXJuO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHNoaXBDZWxsO1xyXG5cclxuICAgICAgICBpZiAoc2hpcC52ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgc2hpcENlbGwgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKGBbZGF0YS14PVwiJHtzaGlwLnh9XCJdW2RhdGEteT1cIiR7c2hpcC55ICsgaX1cIl1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hpcENlbGwgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKGBbZGF0YS14PVwiJHtzaGlwLnggKyBpfVwiXVtkYXRhLXk9XCIke3NoaXAueX1cIl1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNoaXBDZWxsLmRhdGFzZXQuaWQgPSBzaGlwSWQ7XHJcblxyXG4gICAgICAgIGlmIChzaGlwLmlzU3VuaygpKSB7XHJcbiAgICAgICAgICBzaGlwQ2VsbC5jbGFzc05hbWUgPSAnc3Vuayc7XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS0ke3BsYXllci5uYW1lfS1zaGlwXVtkYXRhLXNoaXAtaWQ9XCIke3NoaXBJZH1cIl1gKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH0gZWxzZSBpZiAoc2hpcC5oaXRzW2ldKSB7XHJcbiAgICAgICAgICBzaGlwQ2VsbC5jbGFzc05hbWUgPSAnaGl0JztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHBsYXllci5ib2FyZC5taXNzZWQuZm9yRWFjaCgoY29vcmRzKSA9PiB7XHJcbiAgICAgIGZpZWxkLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXg9XCIke2Nvb3Jkc1swXX1cIl1bZGF0YS15PVwiJHtjb29yZHNbMV19XCJdYCkuY2xhc3NOYW1lID0gJ21pc3NlZCc7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHBvcHVsYXRlRmllbGQoZmllbGQsIGZ1bmMpIHtcclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDEwOyBpKyspIHtcclxuICAgICAgZm9yIChsZXQgaiA9IDE7IGogPD0gMTA7IGorKykge1xyXG4gICAgICAgIGxldCBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgY2VsbC5kYXRhc2V0LnkgPSBpO1xyXG4gICAgICAgIGNlbGwuZGF0YXNldC54ID0gajtcclxuICAgICAgICBpZiAoZnVuYykge1xyXG4gICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiBmdW5jKGUudGFyZ2V0KSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZpZWxkLmFwcGVuZChjZWxsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJTaGlwIiwiY29uc3RydWN0b3IiLCJsZW5ndGgiLCJ4IiwieSIsInZlcnRpY2FsIiwidGhpcyIsImhpdHMiLCJBcnJheSIsImZpbGwiLCJlbmRYIiwiZW5kWSIsImhpdCIsImluZGV4IiwiaXNTdW5rIiwiZXZlcnkiLCJjZWxsIiwiaGFzQ2VsbCIsIkdhbWVib2FyZCIsInNoaXBzIiwiTWFwIiwibWlzc2VkIiwiU2V0IiwiY2hhbmdlU2hpcENvb3JkcyIsImlkIiwic2hpcCIsImdldCIsInNldCIsInNoaXBJZCIsImVudHJpZXMiLCJ1bmRlZmluZWQiLCJpIiwicmVjZWl2ZUF0dGFjayIsIm5vdEZvdW5kIiwidmFsdWVzIiwiYWRkIiwiYXJlU2hpcHNTdW5rIiwiUGxheWVyIiwibmFtZSIsImVuZW15IiwiYm9hcmQiLCJtYWtlTW92ZSIsImh1bWFuIiwic3VwZXIiLCJjb21wdXRlciIsImF0dGFja3MiLCJoYXMiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJkaXNwbGF5Iiwic3RhcnRHYW1lQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaHVtYW5GaWVsZCIsImNvbXB1dGVyRmllbGQiLCJkcmFnbmRyb3BzIiwicXVlcnlTZWxlY3RvckFsbCIsImN1cnJlbnRQbGF5ZXIiLCJnYW1lR29pbmciLCJzdGFydEdhbWUiLCJ1cGRhdGUiLCJwbGF5ZXIiLCJmaWVsZCIsImZvckVhY2giLCJzaGlwQ2VsbCIsImRhdGFzZXQiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJjb29yZHMiLCJwb3B1bGF0ZUZpZWxkIiwiZnVuYyIsImoiLCJjcmVhdGVFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJhcHBlbmQiLCJkbmQiLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwiZHJhZyIsImNsb3Nlc3QiLCJjaGFuZ2VEaXJlY3Rpb24iLCJwcmV2ZW50RGVmYXVsdCIsIk51bWJlciIsImdldERhdGEiLCJkcm9wIl0sInNvdXJjZVJvb3QiOiIifQ==